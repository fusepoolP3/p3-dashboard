<!DOCTYPE html>
<html class="bg-grey">
	<head>
			<meta charset="UTF-8">
			<title>Publishing | P3 Dashboard</title>
			<meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
		
		<!-- JS -->
			<!-- jQuery -->
			<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
			<script type="text/javascript" src="js/plugins/datatables/jquery.dataTables.js"></script>
			<script type="text/javascript" src="js/plugins/cookie/jquery.cookie.js"></script>
			<!-- Bootstrap -->
			<script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
			<script type="text/javascript" src="js/plugins/datatables/dataTables.bootstrap.js"></script>
			<!-- jQuery UI -->
			<script type="text/javascript" src="//code.jquery.com/ui/1.11.1/jquery-ui.min.js"></script>
			<!-- Yasr, Yasqe -->
			<script src='//cdn.jsdelivr.net/yasr/2.4.9/yasr.bundled.min.js'></script>
			<script src='//cdn.jsdelivr.net/yasqe/2.2/yasqe.bundled.min.js'></script>
			<!-- Uduvudu -->
			<script type="text/javascript" src="js/plugins/uduvudu/lib/underscore-1.6.0.js"></script>
			<script type="text/javascript" src="js/plugins/uduvudu/lib/handlebars-v1.3.0.js"></script>
			<script type="text/javascript" src="js/plugins/uduvudu/lib/rdf_store.js"></script>
			<script type="text/javascript" src="js/plugins/uduvudu/matcher.js"></script>
			<script type="text/javascript" src="js/plugins/uduvudu/src/uduvudu.js"></script>
			<!-- Rdf-Ext -->
			<script type="text/javascript" src="js/plugins/rdfext/rdf-ext.min.js"></script>
			<!-- PlatformJS -->
			<script type="text/javascript" src="js/plugins/platformjs/p3-platform-js.js"></script>
			<!-- Sunlight syntax highlighter -->
			<script type="text/javascript" src="js/plugins/sunlight/sunlight-min.js"></script>
			<script type="text/javascript" src="js/plugins/sunlight/plugins/sunlight-plugin.menu-min.js"></script>
			<script type="text/javascript" src="js/turtleLang.js"></script>
			<!-- ZeroClipboard -->
			<script type="text/javascript" src="js/plugins/zeroclipboard/ZeroClipboard.min.js"></script>		
		<!-- /JS -->
		
		<!-- CSS -->
			<link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" />
			<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css" />
			<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/yasr/2.4.9/yasr.min.css" />
			<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/yasqe/2.3.2/yasqe.min.css" />
			<link rel="stylesheet" type="text/css" href="js/plugins/sunlight/themes/sunlight.default.css" />
			<link rel="stylesheet" type="text/css" href="css/turtle-highlight.css" />
			<!-- Theme style -->
			<link href="css/AdminLTE.css" rel="stylesheet" type="text/css" />
			<!-- Custom style -->
			<link href="css/custom.css" rel="stylesheet" type="text/css" />
		<!-- /CSS -->

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>
    <body class="skin-black bg-grey" role="document">
		<!-- LOADING -->
		<div id="loadingCover">&nbsp;</div>
	
			<!-- header logo: style can be found in header.less -->
			<header id="siteHeader" class="header">
				<a href="index.html" class="logo">
						<img src="img/small-logo.png" title="Fusepool P3 Dashboard" alt="Fusepool P3 Dashboard" />
				</a>
				<!-- Header Navbar: style can be found in header.less -->
				<nav class="navbar navbar-static-top" role="navigation">
					<!-- Sidebar toggle button-->
					<a href="#" class="navbar-btn sidebar-toggle" data-toggle="offcanvas" role="button">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<div class="navbar-right">
						<ul class="nav navbar-nav">
						</ul>
					</div>
				</nav>
			</header>
		
			<div class="wrapper row-offcanvas row-offcanvas-left bg-grey">
		
					<!-- Menu column. contains the logo and sidebar -->
					<aside id="menuPanel" class="left-side sidebar-offcanvas">
						<!-- sidebar: style can be found in sidebar.less -->
						<section class="sidebar">
							<!-- sidebar menu: : style can be found in sidebar.less -->
							<ul class="sidebar-menu">
								<li class="active">
									<a href="index.html" id="publishingMenuItem">
										<i class="fa fa-dashboard"></i> <span>Publishing</span>
									</a>
								</li>
								<li>
									<a href="transformers.html" id="transformersMenuItem">
										<i class="fa fa-rocket"></i> <span>Transformers</span> <small id="transformerCountMenu" class="badge pull-right bg-green">0</small>
									</a>
								</li>
								<li>
									<a href="configuration.html" id="configurationMenuItem">
										<i class="fa fa-wrench"></i> <span>Configuration</span>
									</a>
								</li>
							</ul>
						</section>
						<!-- /.sidebar -->
					</aside>

					<!-- Main panel. Contains the navbar and content of the page -->
					<aside id="mainPanel" class="right-side bg-grey">
		
						<!-- Content Header (Page header) -->
						<section id="mainHeader" class="content-header">
							<!-- Main Buttons -->
							<div class="row">
								<section class="col-lg-12" >
									<a class="btn btn-app no-margin" onclick="onNewWidgetClick()"> 
										<i class="fa fa-plus"></i>
										New widget
									</a>
									<!-- a class="btn btn-app no-margin" data-toggle="modal" data-target="#modalBox">
										<i class="fa fa-wrench"></i>
										Widget settings
									</a -->												
									<div class="pull-right" id="refreshDiv">
										<div class="box box-info no-margin-bottom padding-10">
											<input type="checkbox" id="autoRefresh" /> Refresh widgets in every 
											<input type="text" value="60" id="refreshInterval" /> secs
											<small style="visibility: visible;" id="countdown">
												<span title="minutes" id="cd-minutes">00</span>:<span title="seconds" id="cd-seconds">00</span>
											</small>
											<button id="refreshNowButton" class="btn btn-sm btn-default" onclick="refreshWidgets()">
												<i class="fa fa-refresh"></i>
												 Refresh now
											</button>
										</div>
									</div>
								</section>
							</div>
						</section>

						<!-- Main content -->
						<section id="mainContent" class="content bg-grey no-padding-top">		
							<!-- Main row -->
							<div id="firstMainRow" class="row">				
								<!-- ------------------------------------------- Left col ------------------------------------------- -->
								<section id="firstMainColumn" class="col-lg-4 connectedSortable"></section>					
								<!-- ------------------------------------------- Middle col ------------------------------------------- -->
								<section id="secondMainColumn" class="col-lg-4 connectedSortable"></section>					 
								<!-- -------------------------------------------- Right col ------------------------------------------- -->
								<section id="thirdMainColumn" class="col-lg-4 connectedSortable"></section>					 
							</div><!-- /.row (main row) -->
						</section><!-- /.content -->
						
					</aside><!-- /.right-side -->
			</div><!-- ./wrapper -->
		
		<!-- MODAL FOR NEW WIDGET -->
		<div class="modal fade" id="newWidgetPanel" tabindex="-1" role="dialog" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 id="modalTitle" class="modal-title">New widget</h4>
					</div>					
					<div class="modal-main">
						<div id="modalBody" class="modal-body">
							<div class="form-group">
								<label class="control-label" for="widgetType">Widget type</label>
								<select id="widgetType" class="form-control" onchange="widgetTypeChange()">
									<option value="T-LDPC" selected="selected">T-LDPC</option>
									<option value="UIR">User interaction requests</option>
									<option value="SPARQL">SPARQL builder</option>
									<option value="HOWTO">Helper text</option>
								</select>
							</div>
							<div class="form-group">
								<input id="widgetTitle" class="form-control" placeholder="Title">
							</div>
							<div class="form-group">
								<select id="transformerList" class="form-control" onchange="transformerChange()">
									<option value="0">Select a transformer</option>
								</select>
							</div>
							<div class="form-group">
								<input id="transformerURI" class="form-control" placeholder="Transformer URI">
							</div>
							<div class="form-group">
								<textarea id="widgetDescription" class="form-control" style="height: 34px;" placeholder="Description (optional)" rows="1"></textarea>
							</div>
							<input id="widgetId" type="hidden" value="" />
						</div>
						<div id="modalFooter" class="modal-footer clearfix">
							<button id="modalCancelButton" type="button" class="btn btn-default pull-left" data-dismiss="modal">Cancel</button>
							<button id="modalOKButton" type="button" onclick="saveWidget()" class="btn btn-primary">Save widget</button>
						</div>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
		
		<!-- MODAL FOR SHOW/HIDE WIDGETS -->
		<div class="modal fade" id="TODO" tabindex="-1" role="dialog" aria-hidden="true">
		</div><!-- /.modal -->
		
		<!-- MODAL FOR WIDGET INFO -->
		<div class="modal fade" id="widgetInfo" tabindex="-1" role="dialog" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 id="detailsTitle" class="modal-title">Widget information</h4>
					</div>					
					<div class="modal-main">
						<div id="previewBody" class="modal-body">
							<div class="callout callout-info">
								<p>T-LDPC widgets can be used to easily upload files to the platform that automatically go through a selected transformation. One T-LDPC widget is connected to one specific transformer. Here you can see the details:</p>
							</div>
							<table class="table table-bordered">
								<tbody>
									<tr>
										<td><strong>Widget title</strong></td>
										<td><span id="infoWidgetTitle"></span></td>
									</tr>
									<tr>
										<td><strong>T-LDPC URI</strong></td>
										<td><span id="infoTLDPCURI"></span></td>
									</tr>
									<tr>
										<td><strong>Transformer URI</strong></td>
										<td><span id="infoTransformerURI"></span></td>
									</tr>
									<tr>
										<td><strong>Description</strong></td>
										<td><span id="infoDescription"></span></td>
									</tr>
								</tbody>
							</table>
						</div>
						<div id="infoFooter" class="modal-footer clearfix">
							<button id="infoCloseButton" type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
						</div>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
		
		<!-- MODAL FOR RESOURCE PREVIEW -->
		<div class="modal fade" id="previewPanel" tabindex="-1" role="dialog" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 id="previewTitle" class="modal-title">Resource preview</h4>
					</div>					
					<div class="modal-main">
						<div id="previewBody" class="modal-body">
							<!-- Preview -->
							<div id="resourcePreviewPanel">
								<!-- ul class="nav nav-tabs" role="tablist">
									<li class="dropdown">
										<a class="dropdown-toggle" data-toggle="dropdown" href="#"> Visualization <span class="caret"></span></a>
										<ul id="visDropdown" class="dropdown-menu" role="tablist">
											<li role="presentation"><a id="turtlePreviewTab" role="tab" data-toggle="tab" tabindex="-1" href="#turtlePreview">Turtle</a></li>
											<li role="presentation"><a id="uduvuduPreviewTab" role="tab" data-toggle="tab" tabindex="-1" href="#uduvuduPreview">Uduvudu</a></li>
											<li role="presentation"><a id="linkToFileTab" role="tab" data-toggle="tab" tabindex="-1" href="#linkToFile">Direct link to file</a></li>
										</ul>
									</li>
								</ul>
								<div class="well">
									<div class="tab-content">
										<div id="turtlePreview" class="tab-pane fade in active"></div>
										<div id="uduvuduPreview" class="tab-pane fade"></div>
										<div id="linkToFile" class="tab-pane fade"></div>
									</div>
								</div -->
								<div id="linkToFile"></div>
							</div>
						</div>
						<div id="previewFooter" class="modal-footer clearfix">
							<button id="previewCloseButton" type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
						</div>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
	
		<!-- handlebar templates -->
		<div id="templates"></div>
		<div id="visualizer"></div>
		      
		<!-- Dropzone -->
		<script src="js/plugins/dropzone/dropzone.js" type="text/javascript"></script>		
		<!-- iCheck -->
		<script src="js/plugins/iCheck/icheck.min.js" type="text/javascript"></script>
		<!-- AdminLTE App -->
		<script src="js/AdminLTE/app.js" type="text/javascript"></script>
		<!-- Custom JS -->
		<script src="js/config.js" type="text/javascript"></script>
		<script src="js/utils.js" type="text/javascript"></script>
		<script src="js/publishing.js" type="text/javascript"></script>

    </body>
</html>
